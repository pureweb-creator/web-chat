.app_home
  margin-top: 0px !important

  & > .container
    max-width: 100%

.wrapper
  display: flex
  height: 100vh

.empty-message
  height: 100%
  display: flex
  align-items: center
  justify-content: center
  color: #fff

.users
  width: 400px
  flex-shrink: 0
  background: $panelColor
  overflow-y: hidden
  border-right: 1px solid $panelBorderColor
  padding: 10px 15px 10px 7px
  color: #000
  @include scrollbar()

  &:hover
    overflow-y: auto
    padding-right: 9px

  &__link
    cursor: pointer
    display: flex
    align-items: center
    padding: 10px
    border-radius: $radius

    &.active
      background: $accentColor
      color: #fff

      .users__email
        color: #fff

    &:not(.active):hover
      background: rgba($panelBorderColor, 0.2)

  &__label
    display: block
    text-overflow: ellipsis
    overflow: hidden
    color: inherit
    white-space: nowrap
  &__name
    font-size: 16px
    line-height: 1.375rem
    font-weight: 500
  &__email
    color: $secondaryColor
    font-weight: 400
    margin-top: 5px
    font-size: 14px

  &__userpic
    @include userpic(54px)
    margin-right: 15px


.saved .saved__userpic
  background: linear-gradient(180deg, lighten($accentColor, 20) 0%, $accentColor 100%)
  padding: 12px
  path
    fill: #fff

.main-window
  display: flex
  flex-direction: column
  // background: $appBgColor
  background: url('../img/Flower-Pattern-for-Background-Graphics-21862428-2-580x387.png'), $appBgColor
  background-size: auto 
  width: 100%
  overflow: hidden
  position: relative

.recipient-panel
  background: $panelColor
  font-size: $fontSizeMedium
  padding: 6px 15px
  box-shadow: $shadow
  display: flex
  align-items: center
  justify-content: space-between
  position: relative
  z-index: 2

  &__username
    font-weight: 500

  &__info
    display: flex
    align-items: center

  &__userpic
    @include userpic(42px)
    margin-right: 15px

  &__user-status
    font-size: 14px
    color: $secondaryColor
  &__user-status.online
    color: $successTextColor
  &__typing
    display: flex
  &__typing-animation
    display: flex
    align-items: center
    margin-right: 3px
    span
      display: block
      margin: 0 1px
      width: 5px
      height: 5px
      border-radius: 10px
      background: rgba($successTextColor, .3)
      animation-name: typing
      animation-iteration-count: infinite
      animation-timing-function: ease-in-out
      //animation-direction: alternate
      animation-duration: .5s

      &:first-child
        animation-name: typing-1
      &:nth-child(2)
        animation-name: typing-2
      &:last-child
        animation-name: typing-3

@keyframes typing-1
  from
    transform: scale(1)
  22.222222%
    transform: scale(1.2)
    background: $successTextColor
  66.666666%
    transform: scale(1)
  to
    transform: scale(1)

@keyframes typing-2
  from
    transform: scale(1)
  44.444444%
    transform: scale(1.2)
    background: $successTextColor
  66.666666%
    transform: scale(1)
  to
    transform: scale(1)

@keyframes typing-3
  from
    transform: scale(1)
  66.666666%
    transform: scale(1.2)
    background: $successTextColor
  to
    transform: scale(1)

.logout-icon
  path
    fill: rgba(#000, .5)
  &:hover path
    fill: #000

.app-body
  position: relative
  padding: 10px
  height: 100%
  overflow-y: auto
  overflow-x: hidden
  @include scrollbar()
  scroll-behavior: smooth

.messages
  width: 100%
  max-width: 710px
  padding-right: 70px
  padding-left: 20px
  margin-left: auto
  margin-right: auto

.message__item
  display: flex
  align-items: flex-end
  margin: 4px 0
  position: relative
  
  &.active .message-utils
    opacity: 1
    visibility: visible
    transform: scale(1) translateX(10px)
  &_self
    justify-content: flex-end
    .message__text_short
      text-align: right
    .message__userpic
      order: 1
      margin-left: 5px
    .message__text
      transition: all .1s ease
      background: $msgOutBg
      border-radius: $radiusBig $radiusBig $radiusSmall $radiusBig
  &:not(&_self)
    .message__time-inner
      margin-right: auto
      margin-left: unset !important

  &__icon
    margin-right: 5px
    width: 20px

.message__userpic
  @include userpic(35px)
  margin-right: 5px
  position: sticky
  bottom: 0


// MESSAGE BUBBLE BOX
.message__text
  max-width: 480px
  min-width: 75px
  font-size: $fontSizeMedium
  background: $msgInBg
  border-radius: $radiusBig $radiusBig $radiusBig $radiusSmall
  padding: 8px 8px 8px 11px
  line-height: 1.3
  box-shadow: $messageShadow
  width: fit-content
  position: relative
  cursor: auto

  .message__time-label
    font-size: $fontSizeSmall
    visibility: hidden

  .message__time-inner
    // opacity: .5
    font-size: $fontSizeSmall
    opacity: .5
    display: block
    position: absolute
    right: 0
    bottom: 4px
    padding-right: 9px

  div
    display: inline
    word-break: break-word

  a
    text-decoration: underline
    color: $accentColor

  &.message__text_short
    background: transparent
    box-shadow: unset
    padding: 0
    .message__time-label
      display: none
    .message__time-inner
      position: static
      background-color: rgba($secondaryColor, 0.2)
      display: table
      margin-top: -5px
      opacity: 1
      color: #fff
      margin-left: auto
      border-radius: 30px
      padding: 2px 7px 1px
    & > div
      font-size: 44px

  .message-utils
    max-width: 200px
    width: 140px
    background: #fff
    border-radius: $radius $radius $radius
    box-shadow: $shadow
    right: -140px
    bottom: 0
    z-index: 2
    opacity: 0
    visibility: hidden
    transition: all .2s ease
    transform: scale(0.95) translateY(-10px)
    transfrom-origin: 100% 50%
    position: absolute
    &__item
      cursor: pointer
      display: flex
      align-items: center
      padding: 7px 15px
      font-weight: 500
      &:hover
        background: rgba($panelBorderColor, 0.2)
      path
        fill: $textColor
    &__icon
      margin-right: 10px
    &__delete
      color: $dangerTextColor
      path
        fill: $dangerTextColor


// FOOTER
.footer
  width: 100%
  padding: 5px 10px
  max-width: 710px
  margin-left: auto
  margin-right: auto
  margin-bottom: 25px
  position: relative
.form_chat
  border-radius: $radius
  display: flex
  align-items: flex-end

.form__message-input
  margin-bottom: 0
  height: auto
  padding: 15px 15px 15px 50px
  box-shadow: $shadow
  font-size: $fontSizeMedium
  background: #fff
  vertical-align: top
  max-width: calc(100% - 60px)
  min-height: 50px
  max-height: 300px
  overflow-y: auto
  resize: none
  scrollbar-width: none
  -ms-overflow-style: none
  border: none
  border-radius: $radiusBig
  &::-webkit-scrollbar
    display: none
  &:hover,&:focus
    margin-bottom: 0

  &[placeholder]:empty::before
    content: attr(placeholder)
    color: rgba($textColor, .5)
    line-height: 1.2
    cursor: text
  [placeholder]:empty:focus::before
    content: ""

emoji-picker
  box-shadow: 0 5px 10px 5px #242424
  background: rgb(243 245 237)
  --background: rgb(243 245 237)
  --num-columns: 7
  --input-border-radius: 10px
  --input-border-size: 1px
  --input-border-color: rgba(0,0,0,.1)
  --outline-size: 0
  --input-padding: 5px 10px
  --input-font-size: 14px 
  --input-font-color: #242424
  --emoji-size: 25px
  --category-emoji-size: 20px
  --emoji-padding: 9px
  --indicator-color: #3390ec
  --indicator-height: 2px
  --button-hover-background: rgba(0,0,0,.05)

  position: absolute
  bottom: 65px
  left: 10px
  border-radius: $radiusBig
  box-shadow: $shadow
  overflow: hidden
  transition: all .1s ease
  transform-origin: left bottom
  transform: translateX(-10px) scale(0.9)
  opacity: 0
  visibility: hidden
  &.active
    transform: translateX(0) scale(1)
    opacity: 1
    visibility: visible

.send-message-utils
  display: flex
  align-items: center
  position: absolute
  bottom: 15px
  left: 15px

.form__send-btn
  width: 50px
  height: 50px
  position: absolute
  right: 0
  border-radius: 50%
  padding: 13px
  margin-left: 10px
  cursor: pointer
  display: block
  flex-shrink: 0
  background: $accentColor

.btn-scroll-down
  width: 50px
  height: 50px
  padding: 15px
  box-shadow: $shadow
  border-radius: 100px
  position: absolute
  right: 0
  top: -60px
  background: #fff
  cursor: pointer
  opacity: 0
  visibility: hidden
  transition: all .3s ease
  &:hover
    background: #ebebeb
  &.active
    visibility: visible
    opacity: 1

.form__send-icon
  width: 100%
.emoji-picker-btn
  width: 20px
  cursor: pointer
  path
    transition: all .2s ease
    fill: $secondaryColor
  &.active
    path
      fill: $accentColor
  &:hover
    path
      fill: $accentColor

.form_type_auth
  margin-left: auto
  margin-right: auto
  max-width: 100%
  width: 80%

  .form__reg-link
    text-decoration: underline
    color: $accentColor

  .form-help
    @include alert($dangerTextColor, $dangerBgColor, $dangerBorderColor)
    margin-bottom: 15px

.app_auth
  margin: 0
  & > .container
    padding-top: 30vh
    max-width: 600px
    display: flex
    flex-direction: column
    height: 100vh
    background: #fff

.form__confirm_code
  display: flex
  justify-content: space-between
  width: 100%
  margin: 15px auto 15px auto

.form__input_confirm_code
  width: 75px
  height: 85px
  font-size: 40px
  text-transform: uppercase
  text-align: center
  border-width: 2px


.form__input_confirm_code:focus, .form__input_confirm_code:hover
  border-color: #e6e6e6
.form__input_confirm_code.active
  border-color: $accentColor

.app-404
  text-align: center
  font-size: 16px

  &__title
    font-size: 72px

  &__subtitle
    font-size: 24px
    line-height: 160%

  &__link
    display: block
    text-decoration: underline
    margin-top: 32px
    line-height: 150%