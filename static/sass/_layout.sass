.app_home
  margin-top: 0px !important

  & > .container
    max-width: 100%

.wrapper
  display: flex
  height: 100vh

.empty-message
  height: 100%
  display: flex
  align-items: center
  justify-content: center
  color: #fff

.users
  width: 400px
  flex-shrink: 0
  background: $panelColor
  overflow-y: hidden
  border-right: 1px solid $panelBorderColor
  padding: 10px
  color: #000
  @include scrollbar()

  &:hover
    overflow-y: auto

  &__link
    cursor: pointer
    display: flex
    align-items: center
    padding: 10px
    border-radius: $radius

    &.active
      background: $accentColor
      color: #fff

      .users__email
        color: #fff

    &:not(.active):hover
      background: rgba($panelBorderColor, 0.2)

  &__label
    display: block
    text-overflow: ellipsis
    overflow: hidden
    color: inherit
    white-space: nowrap
  &__name
    font-size: 16px
    line-height: 1.375rem
    font-weight: 500
  &__email
    color: $secondaryColor
    font-weight: 400
    margin-top: 5px
    font-size: 14px

  &__userpic
    @include userpic(54px)
    margin-right: 15px


.saved .saved__userpic
  background: linear-gradient(180deg, lighten($accentColor, 20) 0%, $accentColor 100%)
  padding: 12px
  path
    fill: #fff



.main-window
  display: flex
  flex-direction: column
  background: $appBgColor
  width: 100%
  overflow: hidden
  position: relative

.recipient-panel
  background: $panelColor
  font-size: $fontSizeBig
  padding: 10px 15px
  box-shadow: $shadow
  display: flex
  align-items: center
  justify-content: space-between

  &__username
    font-weight: 500

  &__info
    display: flex
    align-items: center

  &__userpic
    @include userpic(42px)
    margin-right: 15px

  &__user-status
    font-size: 14px
    color: $secondaryColor
  &__user-status.online
    color: $successTextColor
  &__typing
    display: flex
  &__typing-animation
    display: flex
    align-items: center
    margin-right: 3px
    span
      display: block
      margin: 0 1px
      width: 5px
      height: 5px
      border-radius: 10px
      background: rgba($successTextColor, .3)
      animation-name: typing
      animation-iteration-count: infinite
      animation-timing-function: ease-in-out
      //animation-direction: alternate
      animation-duration: .5s

      &:first-child
        animation-name: typing-1
      &:nth-child(2)
        animation-name: typing-2
      &:last-child
        animation-name: typing-3

@keyframes typing-1
  from
    transform: scale(1)
  22.222222%
    transform: scale(1.2)
    background: $successTextColor
  66.666666%
    transform: scale(1)
  to
    transform: scale(1)

@keyframes typing-2
  from
    transform: scale(1)
  44.444444%
    transform: scale(1.2)
    background: $successTextColor
  66.666666%
    transform: scale(1)
  to
    transform: scale(1)

@keyframes typing-3
  from
    transform: scale(1)
  66.666666%
    transform: scale(1.2)
    background: $successTextColor
  to
    transform: scale(1)

.logout-icon
  path
    fill: rgba(#000, .5)
  &:hover path
    fill: #000

.app-body
  position: relative
  padding: 10px
  height: 100%
  overflow-y: auto
  @include scrollbar()
  scroll-behavior: smooth

.messages
  width: 100%
  max-width: 600px
  margin-left: auto
  margin-right: auto

.message__item
  display: flex
  align-items: flex-end
  margin: 4px 0
  position: relative
  &.active .message-utils
    opacity: 1
    visibility: visible
    transform: scale(1)
  &_self
    justify-content: flex-end
    .message__userpic
      order: 1
      margin-left: 5px
    .message__text
      transition: all .1s ease
      background: $msgOutBg
      border-radius: $radiusBig $radiusBig $radiusSmall $radiusBig

  &__icon
    margin-right: 5px
    width: 20px

.message__userpic
  @include userpic(35px)
  margin-right: 5px
  position: sticky
  bottom: 0

.message__text
  display: flex
  align-items: flex-end
  max-width: 480px
  min-width: 75px
  font-size: $fontSizeMedium
  background: $msgInBg
  border-radius: $radiusBig $radiusBig $radiusBig $radiusSmall
  padding: 5px 13px 2px 11px
  box-shadow: $messageShadow
  width: fit-content
  position: relative
  cursor: auto
  div
    width: 100%
    word-break: break-word

  &.message__text_short
    background: transparent
    box-shadow: unset
    padding: 0
    text-align: right
    & > div
      font-size: 44px

    .message_pub_date
      display: block
      margin-top: 0
      right: 100px
      float: unset
      margin-left: 0
      bottom: -20px
      left: -15px

.message-utils
  max-width: 200px
  width: 200px
  background: #fff
  border-radius: $radius
  box-shadow: $shadow
  right: 20px
  bottom: -85px
  z-index: 2
  opacity: 0
  visibility: hidden
  transition: all .2s ease
  transform: scale(.8)
  position: absolute
  &__item
    cursor: pointer
    display: flex
    align-items: center
    padding: 10px 15px
    &:hover
      background: rgba($panelBorderColor, 0.2)
    color: $secondaryColor
    path
      fill: $secondaryColor
  &__icon
    margin-right: 10px
  &__delete
    color: $dangerTextColor
    path
      fill: $dangerTextColor

.message__text span
  opacity: .5
  font-size: $fontSizeSmall
  display: inline-block
  width: 100%
  text-align: right
  float: right
  margin-top: -10px
  margin-left: 7px

.message__text
  a
    text-decoration: underline
    color: $accentColor

.message__text_big span
  margin-top: 0

.footer
  padding-top: 5px
  width: 100%
  max-width: 650px
  margin-left: auto
  margin-right: auto
  margin-bottom: 25px
  position: relative
.form_chat
  border-radius: $radius
  display: flex
  align-items: flex-end

.form__message-input
  margin-bottom: 0
  padding: 15px 15px 15px 50px
  box-shadow: $shadow
  font-size: $fontSizeMedium
  background: #fff
  vertical-align: top
  max-width: 100%
  min-width: 100%
  min-height: $textareaMinHeight
  max-height: 300px
  overflow-y: auto
  resize: none
  scrollbar-width: none
  -ms-overflow-style: none
  border: none
  border-radius: $radius
  &::-webkit-scrollbar
    display: none
  &:hover,&:focus
    margin-bottom: 0

  &[placeholder]:empty::before
    content: attr(placeholder)
    color: $textColor
    cursor: text
  [placeholder]:empty:focus::before
    content: ""

emoji-picker
  position: absolute
  bottom: 70px
  left: 0
  border-radius: $radius
  overflow: hidden

.send-message-utils
  display: flex
  align-items: center
  position: absolute
  bottom: 15px
  left: 15px

.form__send-btn
  width: 50px
  height: 50px
  border-radius: 50%
  padding: 12px
  margin-left: 10px
  cursor: pointer
  display: block
  flex-shrink: 0
  background: $accentColor

.btn-scroll-down
  width: 50px
  height: 50px
  padding: 15px
  box-shadow: $shadow
  border-radius: 100px
  position: absolute
  right: -60px
  top: -60px
  background: #fff
  cursor: pointer
  opacity: 0
  visibility: hidden
  transition: all .3s ease
  &:hover
    background: #ebebeb
  &.active
    visibility: visible
    opacity: 1

.form__send-icon
  width: 100%
.emoji-picker-btn
  width: 20px
  cursor: pointer
  path
    transition: all .2s ease
    fill: $secondaryColor
  &:hover
    path
      fill: #000

.form_type_auth
  margin-left: auto
  margin-right: auto
  max-width: 100%
  width: 80%

  .form__reg-link
    text-decoration: underline
    color: $accentColor

  .form-help
    @include alert($dangerTextColor, $dangerBgColor, $dangerBorderColor)
    margin-bottom: 15px

.app_auth
  margin: 0
  & > .container
    padding-top: 30vh
    max-width: 600px
    display: flex
    flex-direction: column
    height: 100vh
    background: #fff

.form__confirm_code
  display: flex
  justify-content: space-between
  width: 100%
  margin: 15px auto 15px auto

.form__input_confirm_code
  width: 75px
  height: 85px
  font-size: 40px
  text-transform: uppercase
  text-align: center
  border-width: 2px


.form__input_confirm_code:focus, .form__input_confirm_code:hover
  border-color: #e6e6e6
.form__input_confirm_code.active
  border-color: $accentColor

.app-404
  text-align: center
  font-size: 16px

  &__title
    font-size: 72px

  &__subtitle
    font-size: 24px
    line-height: 160%

  &__link
    display: block
    text-decoration: underline
    margin-top: 32px
    line-height: 150%